在尽量保留图像原有信息的情况下，过滤掉图像内部的噪声，这一过程称为对图像的平滑处理，所得的图像称为平滑图像。通过图像平滑处理，可以有效地过滤掉图像内的噪声信息。图像平滑处理会对图像中与周围像素点的像素值差异较大的像素点进行处理，将其值调整为周围像素点像素值的近似值。

如果针对图像内的每一个像素点都进行上述平滑处理，就能够对整幅图像完成平滑处理，有效地去除图像内的噪声信息。图像平滑处理的基本原理是，**将噪声所在像素点的像素值处理为其周围临近像素点的值的近似值**。
<table>
 <img src="https://s2.loli.net/2022/12/13/ZiycFMSlvYtbLCd.png"> 
 <img src="https://s2.loli.net/2022/12/13/Mu78yg9zoYVDIn3.png">
</table>

图像平滑处理对应的是英文Smoothing Images。图像平滑处理通常伴随图像模糊操作，因此图像平滑处理有时也被称为图像模糊处理，图像模糊处理对应的英文是Blurring Images。

## 均值滤波
均值滤波是指用当前像素点周围N·N个像素值的均值来代替当前像素值。使用该方法遍历处理图像内的每一个像素点，即可完成整幅图像的均值滤波。

```python
dst = cv2.blur( src, ksize, anchor, borderType )
dst = cv2.blur( src, ksize, ) # 基本使用
```

![](https://s2.loli.net/2022/12/13/QzB9cCMeqJ7UtZg.png)

+ dst是返回值，表示进行均值滤波后得到的处理结果。
+ src是需要处理的图像，即原始图像。它可以有任意数量的通道，并能对各个通道独立处理。图像深度应该是CV_8U、CV_16U、CV_16S、CV_32F或者CV_64F中的一种。
+ ksize是滤波核的大小。滤波核大小是指在均值处理过程中，其邻域图像的高度和宽度。例如，其值可以为(5, 5)，表示以5×5大小的邻域均值作为图像均值滤波处理的结果.
+ anchor是锚点，其默认值是(-1, -1)，表示当前计算均值的点位于核的中心点位置。该值使用默认值即可，在特殊情况下可以指定不同的点作为锚点。
+ borderType是边界样式，该值决定了以何种方式处理边界，一般情况下不需要考虑该值的取值，直接采用默认值即可。

![](https://s2.loli.net/2022/12/13/wET6bntXigmO9j4.png)

> 针对噪声图像，使用不同大小的卷积核对其进行均值滤波，并显示均值滤波的情况

```python
import cv2
o=cv2.imread("image\\noise.bmp")
r5=cv2.blur(o, (5,5))
r30=cv2.blur(o, (30,30))
cv2.imshow("original", o)
cv2.imshow("result5", r5)
cv2.imshow("result30", r30)
cv2.waitKey()
cv2.destroyAllWindows()
```

![](https://s2.loli.net/2022/12/13/lM6oxOwNS2vJybs.png)

卷积核越大，参与到均值运算中的像素就会越多，即当前点计算的是更多点的像素值的平均值。因此，卷积核越大，去噪效果越好，当然花费的计算时间也会越长，同时让图像失真越严重。在实际处理中，要在失真和去噪效果之间取得平衡，选取合适大小的卷积核。

## 方框滤波
在均值滤波中，滤波结果的像素值是任意一个点的邻域平均值，等于各邻域像素值之和除以邻域面积。而在方框滤波中，可以自由选择是否对均值滤波的结果进行归一化，**即可以自由选择滤波结果是邻域像素值之和的平均值，还是邻域像素值之和**。

```python
dst = cv2.boxFilter( src, ddepth, ksize, anchor, normalize, borderType )
```

## 高斯滤波
在高斯滤波中，会将中心点的权重值加大，远离中心点的权重值减小，在此基础上计算邻域内各个像素值不同权重的和。