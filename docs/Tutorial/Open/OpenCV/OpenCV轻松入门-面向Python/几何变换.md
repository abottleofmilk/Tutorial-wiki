几何变换是指将一幅图像映射到另外一幅图像内的操作。OpenCV提供了多个与映射有关的函数，这些函数使用起来方便灵活，能够高效地完成图像的映射。

## 缩放
```python
dst = cv2.resize( src, dsize[, fx[, fy[, interpolation]]] )
 ```
 
+ dst代表输出的目标图像，该图像的类型与src相同，其大小为dsize（当该值非零时），或者可以通过src.size()、fx、fy计算得到。
+ src代表需要缩放的原始图像。
+ dsize代表输出图像大小。
+ fx代表水平方向的缩放比例。
+ fy代表垂直方向的缩放比例。
+ interpolation代表插值方式.
## 翻转
在OpenCV中，图像的翻转采用函数cv2.flip()实现，该函数能够实现图像在水平方向翻转、垂直方向翻转、两个方向同时翻转，其语法结构为：

```python
dst = cv2.flip( src, flipCode )
```

+ dst代表和原始图像具有同样大小、类型的目标图像。
+ src代表要处理的原始图像。
+ flipCode代表旋转类型。

![](https://s2.loli.net/2022/12/12/b61NRHnkFB9Ltrp.png)

```python
import cv2
img=cv2.imread("lena.bmp")
x=cv2.flip(img,0)
y=cv2.flip(img,1)
xy=cv2.flip(img, -1)
cv2.imshow("img", img)
cv2.imshow("x", x)
cv2.imshow("y", y)
cv2.imshow("xy", xy)
cv2.waitKey()
cv2.destroyAllWindows()
```

![](https://s2.loli.net/2022/12/12/BQYGsHjuk4Eq5M7.png)

## 仿射
仿射变换是指图像可以通过一系列的几何变换来实现平移、旋转等多种操作。该变换能够保持图像的平直性和平行性。**平直性是指图像经过仿射变换后，直线仍然是直线；平行性是指图像在完成仿射变换后，平行线仍然是平行线**。

OpenCV中的仿射函数为cv2.warpAffine()，其通过一个变换矩阵（映射矩阵）M实现变换，具体为：

$$ dst（x, y）=src（M11x+M12y+M13, M21x+M22y+M23 ）$$
![](https://s2.loli.net/2022/12/12/8uQsytTrNwiJIGc.png)

```python
dst = cv2.warpAffine( src, M, dsize[, flags[, borderMode[, borderValue]]] )
dst = cv2.warpAffine( src , M , dsize )
```

+ dst代表仿射后的输出图像，该图像的类型和原始图像的类型相同。dsize决定输出图像的实际大小。
+ src代表要仿射的原始图像。
+ M代表一个2×3的变换矩阵。使用不同的变换矩阵，就可以实现不同的仿射变换。
+ dsize代表输出图像的尺寸大小。
+ flags代表插值方法，默认为INTER_LINEAR。当该值为WARP_INVERSE_MAP时，意味着M是逆变换类型，实现从目标图像dst到原始图像src的逆变换。具体可选值参见表5-1。
+ borderMode代表边类型，默认为BORDER_CONSTANT。当该值为BORDER_TRANSPARENT时，意味着目标图像内的值不做改变，这些值对应原始图像内的异常值。
+ borderValue代表边界值，默认是0。
### 平移
### 旋转
```python
retval=cv2.getRotationMatrix2D(center, angle, scale)
```

+ center为旋转的中心点。
+ angle为旋转角度，正数表示逆时针旋转，负数表示顺时针旋转。
+ scale为变换尺度（缩放大小）。
### 更复杂的仿射变换
对于更复杂仿射变换，OpenCV提供了函数cv2.getAffineTransform()来生成仿射函数cv2.warpAffine()所使用的转换矩阵M。
```python
retval=cv2.getAffineTransform(src, dst)
```
## 透视
## 重映射