基于窗体（Widget）的应用程序都是由事件（event）驱动的，鼠标单击、按下某个按键、重绘某个组件、最小化窗口都会产生相应的事件，应用程序对这些事件作出相应的响应处理以实现程序的功能。

## 默认事件处理
事件主要是由操作系统的窗口系统产生的，如一般的鼠标事件、键盘事件、窗体绘制事件等，产生的事件进入一个事件队列，由应用程序的事件循环进行处理。如果在事件队列中重复出现同一事件，应用程序就会合并处理，所以，事件处理是一种异步处理机制。

当一个事件发生时，PyQt5会根据事件的具体类型用QEvent相应的子类创建一个事件实例对象，然后传递给产生事件的对象的event()函数进行处理。QObject类及其子类都可以进行事件的处理，但主要还是窗体类（QWidget及其子类）中用到事件处理。
```scss
event(self, e)
```
参数e是QEvent类型。QEvent类主要有以下3个接口函数。

+ accept()，表示事件接收者接受此事件，对此事件进行处理，接受的事件不会再传播给上层容器组件。
+ ignore()，表示事件接收者忽略此事件，忽略的事件将传播给上层容器组件。
+ type()，返回事件的类型，是枚举类型QEvent.Type，这个枚举类型有100多个值，表示100多个类型的事件。

![](https://s2.loli.net/2022/12/06/dkpP8AMqa62IVDg.png)

用户在继承于QWidget或其子类的自定义类中可以重新实现这些默认的事件处理函数，从而实现一些需要的功能。例如，QWidget没有clicked()信号，那么就不能通过信号与槽的方式实现对鼠标单击的处理，但是可以重新实现mouseReleaseEvent()函数对鼠标单击事件进行处理。
## 事件拦截与事件过滤

## 拖放事件与拖放操作
### 拖放操作相关事件
拖放（drag and drop）操作是GUI应用程序经常使用的一种操作，例如将视频文件拖到一个视频播放软件上，软件就可以播放此文件；在UI Designer里设计窗体界面时，将一个Action拖放到工具栏上就会创建一个工具栏按钮。拖放过程由两个操作组成：拖动（drag）和放置（drop）。被拖动的组件称为拖动点（drag site），接收拖动操作的组件称为放置点（drop site）。拖动点与放置点可以是不同的组件，甚至是不同的应用程序，也可以是同一个组件。

整个拖放操作可以分解为以下两个过程。

（1）drag site启动拖动操作。drag site通过mousePressEvent()事件函数和mouseMoveEvent()事件函数的处理，检测到鼠标左键按下并移动时就可以开始一个拖动操作。启动拖动操作需要创建一个QDrag对象描述拖动操作，并再创建一个QMimeData类的对象用于存储拖动操作的格式信息和数据，并赋值为QDrag对象的mimeData属性。

（2）drop site处理放置操作。当一个拖动操作移动到drop site范围内时，首先触发dragEnterEvent()事件函数，在此事件函数里一般要通过拖动操作的mimeData数据判断拖动操作的来源和参数，从而决定是否接受此拖动操作。只有被接受的拖动操作才可以被放置，并触发dropEvent()事件函数。dropEvent()事件函数用于处理放置时的具体操作，例如判断拖动来的文件类型，然后执行相应的操作。
## 具有拖放操作功能的组件
任何一个界面组件都是QWidget的子类，通过调用setAcceptDrops(True)函数就可以将组件作为drop site接收放置操作。