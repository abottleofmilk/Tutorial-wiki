### C# 程序

如果泛泛地描述 C 和 C++程序源代码的特征，可以说 C 程序是一组函数和数据类型，C++程序是-一组函数和类，而 C# 程序是一组类型声明。
可以把类型想象成一个用来创建数据结构的模板。模板本身并不是数据结构，但它详细说明了由该模板构造的对象的特征。

#### 实例化

从某个类型模板创建实际的对象，称为实例化该类型。通过实例化类型而创建的对象被称为类型的对象或类型的实例。这两个术语可以互换。在 C# 程序中 , 每个数据项都是某种类型的实例。这些类型可以是语言自带的, 可以是 BCL 或其他库提供的，也可以是程序员定义的。

#### 类型是一种模板

C# 程序或 DLL 的源代码是一组类型声明。对于可执行程序，类型声明中必须有一个包含 Main 方法的类。命名空间是一种将相关的类型声明分组并命名的方法。因为程序是一组相关的类型声明，所以通常在你创建的命名空间内部声明程序类型。

#### 数据成员和函数成员

像 short、int 和 long 这样的类型称为简单类型。这种类型只能存储一个数据项。其他的类型可以存储多个数据项。比如数组 ( array) 类型就可以存储多个同类型的数据项。这些数据项称为数组元素。可以通过数字来引用这些元素，这些数字称为索引。
一些类型可以包含许多不同类型的数据项。这些类型中的数据项个体称为成员，并且与数组中使用数字来引用成员不同，这些成员有独特的名称。
有两种成员: 数据成员和函数成员。
数据成员保存了与这个类的对象或整个类相关的数据。函数成员﹐执行代码。函数成员定义类型的行为。

#### 预定义类型

CH 提供了 16 种预定义类型，所有预定义类型的名称都由全小写的字母组成。
预定义简单类型包括三种：11 种数值类型。不同长度的有符号和无符号整数类型。浮点数类型 float 和 double。一种称为 decimal 的高精度小数类型。与 float 和 double 不同，decimal 类型可以准确地表示分数。decimal 类型常用于货币的计算。一种 Unicode 字符类型 char。一种布尔类型 bool。bool 类型表示布尔值并且必须为 true 或 false。与 c 和 c++不同，在 C# 中的数值类型不具有布尔意义。
3 种非简单类型如下。string，它是一个 Unicode 字符数组。object，它是所有其他类型的基类。dynamic，使用动态语言编写的程序集时使用。
所有预定义类型都直接映射到底层的. NET 类型。C# 的类型名称就是 . NET 类型的别名，所以


![](https://cdn.staticaly.com/gh/abottleofmilk/CDN@master/img/20221114103131.png)

#### 用户自定义类型

### 栈和堆

堆是一块内存区域，在堆里可以分配大块的内存用于存储某种类型的数据对象。与栈不同, 堆里的内存能够以任意顺序存入和移除。虽然程序可以在堆里保存数据，但并不能显式地删除它们。CLR 的自动垃圾收集器在判断出程序的代码将不会再访问某数据项时，会自动清除无主的堆对象。
数据项的类型定义了存储数据需要的内存大小及组成该类型的数据成员。类型还决定了对象在内存中的存储位置——栈或堆。
类型被分为两种: 值类型和引用类型，这两种类型的对象在内存中的存储方式不同。值类型只需要一段单独的内存，用于存储实际的数据。引用类型需要两段内存。第一段存储实际的数据，它总是位于堆中。第二段是一个引用，指向数据在堆中的存放位置。
对于一个引用类型，其实例的数据部分始终存放在堆里。既然两个成员都是对象数据的--部分, 那么它们都会被存放在堆里, 无论它们是值类型还是引用类型。对于引用类型的任何对象，它所有的数据成员都存放在堆里，无论它们是值类型还是引用类型。

![](https://cdn.staticaly.com/gh/abottleofmilk/CDN@master/img/20221114095437.png)
C# 的类型分类：


![](https://cdn.staticaly.com/gh/abottleofmilk/CDN@master/img/20221114095412.png)

### 变量

一种多用途的编程语言必须允许程序存取数据，而这正是通过变量实现的。

![](https://cdn.staticaly.com/gh/abottleofmilk/CDN@master/img/20221114095533.png)